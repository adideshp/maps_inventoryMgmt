<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      	var map;
      	var routeLines = [];
	  	var Warehouse = {'city': 'Leipzig' , 'geoLocations' : {lat: 51.3397, lng: 12.3731}};
		var marker = [];
		var defaultMarkers = [
			{'city': 'Munich' , 'geoLocations' : {lat: 48.1351, lng: 11.5820}},
			{'city': 'Hamburg' , 'geoLocations' : {lat: 53.5511, lng: 9.9937}},
			{'city': 'Berlin' , 'geoLocations' : {lat: 52.5200, lng: 13.4050}},
			{'city': 'Frankfurt' , 'geoLocations' : {lat:50.1109, lng: 8.6821}},
			{'city': 'Cologne' , 'geoLocations' : {lat: 50.9375, lng: 6.9603}},
			{'city': 'Hannover' , 'geoLocations' : {lat: 52.3759, lng: 9.7320}},
			{'city': 'Stuttgart' , 'geoLocations' : {lat: 48.7758, lng: 9.1829}},
			{'city': 'Dresden' , 'geoLocations' : {lat: 51.0504, lng: 13.7373}},
		];

	  function addDefaultMarkers() {
		for (i=0;i< defaultMarkers.length; i++) {
			marker[i] = new google.maps.Marker({
			position: defaultMarkers[i]['geoLocations'],
			map: map,
			title: i + ' marker'
			});
		}
	  }
	  
	  function addLineFeatureToAllMarkers() {
	  	for (i=0;i< defaultMarkers.length; i++) {
	  		var startPoint = [];
	  		startPoint.push(defaultMarkers[i]['geoLocations']);
	  		startPoint.push(defaultMarkers[i]['geoLocations']);
			routeLines.push(new google.maps.Polyline({
				path: startPoint,
				geodesic: true,
				strokeColor: '#FF0000',
				editable:true,
				strokeOpacity: 2.0,
				strokeWeight: 2
			}));
			routeLines[i].addListener("mouseup", function(event) {
				console.log("Occoured at Co-ordinates : " + event.latLng.lat().toFixed(3) + "N, " +  event.latLng.lng().toFixed(3) + "E");
			});
			routeLines[i].setMap(map);
	  	}	

	  }

	  function checkRouteValidity(i) {
	  	console.log("Occoured for : " + i);
	  }

	  

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
			center: Warehouse['geoLocations'],
			mapTypeControl: false,
			streetViewControl: false,
			zoom: 6
        });
		addDefaultMarkers();
		addLineFeatureToAllMarkers();
      }
    </script>

	<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEFOaDQJefI-MpLQzCKJel6MxXK3oorPk&signed_in=true&callback=initMap"></script>
  </body>
</html>